<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<base th:href="@{${session.baseURL}}" /> 
</head>
<body class="hold-transition skin-blue-light sidebar-mini fixed">
	<div class="wrapper">		
		<div class="content-wrapper" id="page-wrapper">
			<div class="" th:fragment="section">
				<div class="margin-homepage">
					<div class="container">
						<div>
							<h3 style="text-align:center; text-decoration:underline;">DELETE COURSE(S)</h3>
						</div>
						<br/>
						 <div style="padding-left: 75px;">
							<span style="color: red;"><b>NOTE :</b></span><br />
							<span style="color: black; line-height: 25px;">1. Once Invoice Generated Deletion of Course is not possible.</span><br/>
							<span style="color: black; line-height: 25px;">2. Invoice Cancellation Option is available in VTOP.</span><br/>
						</div>
						<div>							
							<h4 style="text-align: center; text-decoration:underline;">Registered Course(s)</h4>
						</div>
						<br />				
						<div style="color: red; font-size: 20px;">
							<script th:inline="javascript">
							/*<![CDATA[*/
									
									var info = [[${info}]];
									var infoMessage = [[${infoMessage}]];
									var showFlag = [[${showFlag}]];
							
									if ((info != null) && (info != ""))
									{
										swal({
									    	title: info,
									    	type : 'success',
									    	confirmButtonColor: '#3085d6'
										},
										
										function(button) 
										{			
										    if (button == true) 
										    {
										    	window.setTimeout(function ()
										    	{
										    		
										    	}, 0);		    			    	
										    }
										});													
									}
									
									if ((infoMessage != null) && (infoMessage != ""))
									{
										swal({
									    	title: infoMessage,
									    	type : 'info',
									    	confirmButtonColor: '#3085d6'
										},
										
										function(button) 
										{			
										    if (button == true) 
										    {
										    	window.setTimeout(function ()
										    	{
										    		
										    	}, 0);		    			    	
										    }
										});
									}
							/*]]>*/
							</script>
						</div>
						<div align="center" style="color: Red; font-weight: bold; text-align: center;" th:if="${courseRegistrationModel.size()==0}" th:text="${'No Records Found'}"></div>
						<div class="table-responsive" style="margin-bottom: 30px;">
						
						
					
						<table class="w3-table-all w3-card-4 w3-hoverable" style="background-color: #e0f8f8;" 
									th:if="${not #lists.isEmpty(courseRegistrationModel)}">
						
							<thead>		
							<tr class="w3-blue">
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 10%;">Course Code</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center;">Course Title</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 10%;">Course Type</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 5%;">L T P J</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 5%;">Credit</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 10%;">Course Category</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 10%;">Course Option</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 8%;">Class No.</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 8%;">Slot</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 5%;">Venue</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 10%;">Faculty</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 8%;">Status</th>
								<th style="white-space: nowrap; border:1px solid #3c8dbc; 
										text-align: center; width: 5%;">Action</th>
							</tr>
							</thead>

							<tr th:each="RegisteredList : ${courseRegistrationModel}">
								
								<td style="border:1px solid #3c8dbc; text-align: center;" 
			                  		th:text="${RegisteredList[1]}"></td>
			                    <td style="border:1px solid #3c8dbc;" th:text="${RegisteredList[2]}"></td>
			                    <td style="border:1px solid #3c8dbc;" th:text="${RegisteredList[7]}"></td>
			                  
			                    <td style="border:1px solid #3c8dbc; text-align: center;">
			                  		<span th:text="${RegisteredList[8] +' '+ RegisteredList[9] 
			                  				+' '+ RegisteredList[10] +' '+ RegisteredList[11]}"></span></td>
			                    <td style="border:1px solid #3c8dbc; text-align: center;">
			                  		<span th:text="${RegisteredList[12]}"></span></td>
			                  
			                    <td style="border: 1px solid #3c8dbc; text-align: center;">
									<span th:if="${curriculumMapList.isEmpty()}" th:text="${'-'}"></span>
													
									<th:block th:if="${(!curriculumMapList.isEmpty()) 
												and (curriculumMapList.containsKey(RegisteredList[1]))}" 
											  th:each="e2 :${curriculumMapList.get(RegisteredList[1])}">
										<span th:if="${e2[2] == 'CC'}" th:text="${e2[1]}"></span>
										<span th:if="${e2[2] == 'BC'}" th:text="${e2[1] +' ('+ e2[7] +' Basket)'}"></span>
									</th:block>
										
									<span th:if="${(!curriculumMapList.isEmpty()) 
											and (!curriculumMapList.containsKey(RegisteredList[1]))}" 
							  				th:text="${'University Elective'}"></span>
							    </td>
											
			                    <td style="border:1px solid #3c8dbc; text-align: center;" 
			                  		th:text="${RegisteredList[5]}"></td>
			                    <td style="border:1px solid #3c8dbc; text-align: center;" 
			                  		th:text="${RegisteredList[14]}" ></td>
			                    <td style="border:1px solid #3c8dbc; text-align: center;">
			                    	<span th:if="${(RegisteredList[6] != 'EPJ') and (RegisteredList[6] != 'PJT')}"
												th:text="${RegisteredList[15]}"></span>
									<span th:if="${(RegisteredList[6] == 'EPJ') or (RegisteredList[6] == 'PJT')}" 
												th:text="${'NIL'}"></span>
			                    </td>
			                    <td style="border:1px solid #3c8dbc; text-align: center;" 
			                  		th:text="${RegisteredList[16]}"></td>
			                    <td style="border:1px solid #3c8dbc;" 
			                  		th:text="${RegisteredList[18] +' - '+ RegisteredList[19]}"></td>
			                    <td th:style="${'color:'+ RegisteredList[22] + ';' + 'border:1px solid #3c8dbc;'}"
										th:text="${RegisteredList[21]}"></td>
																	
								<td style="border:1px solid #3c8dbc; text-align: center;"
										th:if="${#lists.contains(blockedCourse, RegisteredList[0]) == false}">
									<button class="btn-warning w3-btn w3-btn-red w3-round-large" type="button"
										th:if="${#lists.contains(blockedCourse, RegisteredList[0]) == false}"  
										th:onclick="'javascript:processDeleteCourseRegistration(\''+ 
											${RegisteredList[0]} +'\');'">Delete</button>
								</td>
								 
								<td style="border:1px solid #3c8dbc; text-align: center; font-weight: bold;" 
										th:if="${#lists.contains(blockedCourse, RegisteredList[0]) == true}" 
										th:text="${'Blocked'}"></td>
										
								<!-- <td style="border:1px solid #3c8dbc; text-align: center;"
									th:text="${RegisteredList.getCourseAllocationModel().getCourseCatalogModel().getCode()}"></td>
								<td style="border:1px solid #3c8dbc;"
									th:text="${RegisteredList.getCourseAllocationModel().getCourseCatalogModel().getTitle()}"></td>
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:text="${RegisteredList.getCourseAllocationModel().getCourseTypeComponentModel().getDescription()}"></td>

								<td style="border:1px solid #3c8dbc; text-align: center;"><span
									th:text="${(RegisteredList.getCourseRegistrationPKId().getCourseType()=='ETH') or 
										(RegisteredList.getCourseRegistrationPKId().getCourseType()=='TH')}?
										${RegisteredList.getCourseCatalogModel().getLectureHours()} : '0'"></span></td>
								<td style="border:1px solid #3c8dbc; text-align: center;"><span
									th:text="${(RegisteredList.getCourseRegistrationPKId().getCourseType()=='ETH') or 
										(RegisteredList.getCourseRegistrationPKId().getCourseType()=='TH')}?
										${RegisteredList.getCourseCatalogModel().getTutorialHours()} : '0'"></span></td>
								<td style="border:1px solid #3c8dbc; text-align: center;"><span
									th:text="${(RegisteredList.getCourseRegistrationPKId().getCourseType()=='ELA') or 
										(RegisteredList.getCourseRegistrationPKId().getCourseType()=='LO')}?
										${RegisteredList.getCourseCatalogModel().getPracticalHours()} : '0'"></span></td>
								<td style="border:1px solid #3c8dbc; text-align: center;"><span
									th:text="${RegisteredList.getCourseRegistrationPKId().getCourseType()=='EPJ'}?
										 ${RegisteredList.getCourseCatalogModel().getProjectHours()} : '0'"></span></td>

								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:if="${RegisteredList.getCourseRegistrationPKId().getCourseType()=='ETH'}">
									<span
									th:text="${RegisteredList.getCourseCatalogModel().getLectureCredits()}"></span>
								</td>
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:if="${RegisteredList.getCourseRegistrationPKId().getCourseType()=='ELA'}">
									<span
									th:text="${RegisteredList.getCourseCatalogModel().getPracticalCredits()}"></span>
								</td>
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:if="${RegisteredList.getCourseRegistrationPKId().getCourseType()=='EPJ'}">
									<span
									th:text="${RegisteredList.getCourseCatalogModel().getProjectCredits()}"></span>
								</td>
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:if="${(RegisteredList.getCourseRegistrationPKId().getCourseType() != 'ETH') and 
										(RegisteredList.getCourseRegistrationPKId().getCourseType() != 'ELA') and 
										(RegisteredList.getCourseRegistrationPKId().getCourseType() != 'EPJ')}">
									<span
									th:text="${RegisteredList.getCourseCatalogModel().getCredits()}"></span>
								</td>

								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:text="${RegisteredList.getCourseOptionModel().getDescription()}"></td>
								<td style="border:1px solid #3c8dbc; text-align: center;" 
									th:text="${RegisteredList.getClassId()}"></td>
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:text="${RegisteredList.getCourseAllocationModel().getTimeTableModel().getSlotName()}"></td>
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:text="${RegisteredList.getCourseAllocationModel().getRoomMasterRoomNumber()}"></td>
								<td style="border:1px solid #3c8dbc;"
									th:text="${RegisteredList.getCourseAllocationModel().getEmployeeProfile().getFirstName()}"></td>
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:style="${'color:'+ RegisteredList.getRegistrationStatusMasterModel().getColor() 
										+ ';' + 'border:1px solid #3c8dbc;'}"
									th:text="${RegisteredList.getRegistrationStatusMasterModel().getDescription()}"></td>
																	
								<td style="border:1px solid #3c8dbc; text-align: center;"
									th:if="${#lists.contains(blockedCourse, RegisteredList.getCourseRegistrationPKId().getCourseId()) == false}">
									<button class="btn-warning w3-btn w3-btn-red w3-round-large" type="button"
										th:if="${#lists.contains(blockedCourse, RegisteredList.getCourseRegistrationPKId().getCourseId()) == false}"  
										th:onclick="'javascript:processDeleteCourseRegistration(\''+ 
											${RegisteredList.getCourseAllocationModel().getCourseCatalogModel().getCourseId()} +'\');'">Delete</button>
								 </td>
								 
								 <td style="border:1px solid #3c8dbc; text-align: center; font-weight: bold;" 
										th:if="${#lists.contains(blockedCourse, RegisteredList.getCourseRegistrationPKId().getCourseId()) == true}" 
										th:text="${'Blocked'}"></td> -->
														
							</tr>
						</table>
						</div> 
						<br/>
						
						<div th:if="${WaitingListStatus == 1}">
							<div>
								<h4 style="text-align: center; text-decoration:underline;">Waiting List Course(s)</h4>
							</div>
							<div align="center" style="color: Red; font-weight: bold; text-align: center;" th:if="${courseRegistrationWaitingModel.size()==0}" th:text="${'No Records Found'}"></div>
							<div class="table-responsive" style="float: left;width: 100%;margin-bottom: 30px;" >
								<table class="w3-table-all w3-card-4 w3-hoverable" style="background-color: #e0f8f8; margin-bottom: 20px;" th:if="${not #lists.isEmpty(courseRegistrationWaitingModel)}">
								
								<thead>
									<tr class="w3-blue">
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 10%;">Course Code</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center;">Course Title</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 10%;">Course Type</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 5%;">L T P J</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 5%;">Credit</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 10%;">Course Category</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 10%;">Course Option</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 8%;">Class No.</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 8%;">Slot</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 5%;">Venue</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 10%;">Faculty</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 5%;">Waiting List No.</th>
										<th style="white-space: nowrap; border:1px solid #3c8dbc; 
											text-align: center; width: 5%;">Action</th>
									</tr>
								</thead>
								
								<tr th:each="RegisteredWaitingList, i: ${courseRegistrationWaitingModel}">
									<td style="border:1px solid #3c8dbc; text-align: center;" 
										th:text="${RegisteredWaitingList[2]}"></td>
									<td	style="border:1px solid #3c8dbc;" 
										th:text="${RegisteredWaitingList[3]}"></td>
									<td style="border:1px solid #3c8dbc;" 
										th:text="${RegisteredWaitingList[5]}"></td>								
									<td style="border:1px solid #3c8dbc; text-align: center;">
										<span th:text="${RegisteredWaitingList[6] +' '+ RegisteredWaitingList[7] 
											+' '+ RegisteredWaitingList[8] +' '+ RegisteredWaitingList[9]}"></span></td>
									<td style="border:1px solid #3c8dbc; text-align: center;">
										<span th:text="${RegisteredWaitingList[10]}"></span></td>
										
									<td style="border: 1px solid #3c8dbc; text-align: center;">
										<span th:if="${curriculumMapList.isEmpty()}" th:text="${'-'}"></span>
														
										<th:block th:if="${(!curriculumMapList.isEmpty()) 
													and (curriculumMapList.containsKey(RegisteredWaitingList[2]))}" 
												  th:each="e2 :${curriculumMapList.get(RegisteredWaitingList[2])}">
											<span th:if="${e2[2] == 'CC'}" th:text="${e2[1]}"></span>
											<span th:if="${e2[2] == 'BC'}" th:text="${e2[1] +' ('+ e2[7] +' Basket)'}"></span>
										</th:block>
											
										<span th:if="${(!curriculumMapList.isEmpty()) 
												and (!curriculumMapList.containsKey(RegisteredWaitingList[2]))}" 
								  				th:text="${'University Elective'}"></span>
								    </td>
								    
									<td style="border:1px solid #3c8dbc; text-align: center;" 
										th:text="${RegisteredWaitingList[12]}"></td>
									<td style="border:1px solid #3c8dbc; text-align: center;" 
										th:text="${RegisteredWaitingList[0]}"></td>
									<td style="border:1px solid #3c8dbc; text-align: center;" 
										th:text="${RegisteredWaitingList[14]}"></td>
									<td style="border:1px solid #3c8dbc; text-align: center;" 
										th:text="${RegisteredWaitingList[15]}"></td> 
									<td style="border:1px solid #3c8dbc;" th:text="${RegisteredWaitingList[17]}"></td>
									<td style="border:1px solid #3c8dbc; text-align: center;" 
										th:text="${RegisteredWaitingList[18]}"></td>
									<td style="border:1px solid #3c8dbc; text-align: center;">
										<button class="btn-warning w3-btn w3-btn-red w3-round-large" type="button"  
										th:onclick="'javascript:processDeleteCourseRegistrationWaiting(\''+ 
											${RegisteredWaitingList[1]} +'\');'">Delete</button></td>
								</tr>
							</table>
							</div>
						</div>						
					</div>
				</div>					
			</div>
		</div>		
	</div>
</body>
</html>